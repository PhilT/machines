# BE CAREFUL: THIS FILE IS ALSO WRITTEN TO BY MACHINES
# This config file is used to read and also write machine settings.
# You can replace these comments with your own. Comment lines will be retained upto the first
# non-comment line.
#
# THIS CONTAINS A NUMBER OF PASSWORDS. SETTING PROPER PERMISSIONS IS HIGHLY RECOMMENDED.
#
# Each machine represents a physical (or virtual) computer in your server architecture. This file
# is used to determine where to point database connections from app servers. Because of this
# database servers must be created before application servers.
#
# Edit this file to setup your initial machines. If using EC2, Machines will populate the
# address setting with the new instance that is created.
#
# For example:
#     machines build maindb # creates the master database and sets address in machines.yml
#   then:
#     machines build production # creates the app server and set db to point to maindb
#
# machine_name:
#   hostname: Used to set the hostname of the machine (e.g. main.electricvisions.com)
#   ec2: Set to true to tell machines to create a new ec2 instance (unless address is already set)
#   address: IP or DNS name of the machine (this is populated automatically when creating EC2 machines)
#   user: User to login as and to identify the  users/ folder to use
#   environment: Rails.env to use
#   apps: An array of apps to setup on this machine (if nil sets up all)
#   roles: Roles of the server (Roles known by standard template are: app, db, dbmaster, dbslave)
#   db: If set refers to the name of the db server that will be used (e.g. db: maindb).
#       If set for a db server, db: refers to the server to replicate against.
#   root_pass: Root password for db servers
#   replication_pass: Password to connect with when replicating
#

---
philworkstation:
  hostname: main.electricvisions.com
  address:
  user: phil
  environment: development
  apps:
  roles:
    - app
    - db
  root_pass: secure

maindb:
  hostname: dbmaster.electricvisions.com
  ec2: true
  address:
  user: www
  environment: production
  apps:
  roles:
    - db
    - dbmaster
  root_pass: secure
  replication_pass: secure

backupdb:
  hostname: dbslave.electricvisions.com
  ec2: true
  address:
  user: www
  environment: production
  apps:
  roles:
    - db
    - dbslave
  root_pass: secure
  db: dbmaster

staging:
  hostname: staging.electricvisions.com
  ec2: true
  address:
  user: www
  environment: staging
  apps:
  roles:
    - app
    - db
  root_pass: secure

production:
  hostname: prod.electricvisions.com
  ec2: true
  address:
  user: www
  environment: production
  apps:
  roles:
    - app
  db: maindb

